/* global requirejs, require */
import ENV from '../config/environment';

function initialize() {
  const application = arguments[1] || arguments[0];
  let prefix = ENV.modulePrefix;
  let freestyleModuleRegExp = new RegExp(`^${prefix}\/(freestyle|snippets)`);

  Object.keys(requirejs.entries).filter(function(key) {
    return freestyleModuleRegExp.test(key);
  }).forEach(function(moduleName) {
    if (moduleName.match(/\.jshint/)) {
      // ignore autogenerated .jshint files
      return;
    }
  });
}

export default {
  name: 'ember-freestyle',
  initialize: initialize
};
